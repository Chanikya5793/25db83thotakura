extends layout

block content
  - const items = results || []
  .page-header
    h1 Costume Inventory
    p.page-intro Manage every look in one glance. Add new outfits, or jump straight into detail, edit, or delete flows.
    button.btn.btn-primary(type='button', onclick="dispatch('/costumes/create')") + Add Costume

  if items.length === 0
    .alert
      strong No costumes yet.
      |  Click “+ Add Costume” to start filling the wardrobe.
  else
    .costume-grid
      each item in items
        - const label = item.costume_type || 'Untitled Costume'
        article.costume-card
          h3 #{label}
          p.meta
            strong Size:
            |  #{item.size || '—'}
          p.meta
            strong Color:
            |  #{item.color || '—'}
          p.meta
            strong Cost:
            |  $#{item.cost}
          .costume-actions
            button.btn.btn-outline(type='button', onclick=`dispatch('/costumes/detail?id=${item._id}')`) Detail
            button.btn.btn-primary(type='button', onclick=`dispatch('/costumes/update?id=${item._id}')`) Update
            button.btn.btn-danger(type='button', onclick=`dispatch('/costumes/delete?id=${item._id}')`) Delete
  script.
    function dispatch(path) {
      window.location.href = path;
    }
